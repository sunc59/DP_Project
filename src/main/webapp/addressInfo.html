<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

		<title>黑马旅游网</title>

		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">


		<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
		<script src="js/jquery-3.2.1.min.js"></script>
		<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
		<script src="js/bootstrap.min.js"></script>

		<style type="text/css">
			.paddtop {
				padding-top: 12px;
			}

			.search_input {
				float: left;
				border: 2px solid skyblue;
				width: 350px;
				height: 40px;
				padding-left: 8px;
				margin-top: 15px;
			}

			.search_btn {	
				margin-top: 15px;
				height: 40px;
			
			}
			.cart_btn{
				margin-top: 15px;
				height: 40px;
			}

			.jx {
				border-bottom: 3px solid gold;
				padding: 5px;
				margin-top: 5px;
			}

			.money {
				color: red;
				font-size: 20px;
			}
			.company{
				height: 40px;
				background-color: skyblue;
				text-align: center;
				line-height: 40px;
				font-size: 12px;
				color: gray;
			}
			.nav1{
				background-color: gainsboro;
			}
			
		</style>
		
		<script type="text/javascript">
			
		</script>
	</head>
	<body>
		<!-- 1.页眉部分，100% -->
		<header class="container-fluid">
			<div id="head"></div>
			<script>
				$.get("header.html",{},function (data) {
					$("#head").html(data);
				});
			</script>
		</header>
		
		
		<!-- 2.主体部分，留白-->
		<div id="" class="container">
			
			<div style="float: left;width: 200px;">
				<div class="panel-body">
				    <a class="list-group-item active">
				    	用户信息
				    </a>
					<a href="#" class="list-group-item">消息中心</a>
				    <a href="userInfo.html" class="list-group-item">个人资料</a>
				    <a href="orderInfo.html" class="list-group-item">我的订单</a>
					<a href="#" class="list-group-item">购物车</a>
					<a href="#" class="list-group-item active">收货地址</a>
					<a href="#" class="list-group-item">收藏商品</a>
					<a href="#" class="list-group-item">收藏店铺</a>
					<a href="#" class="list-group-item">购买记录</a>
				    <a href="#" class="list-group-item">会员积分</a>
				</div>
			</div>
			
			<div class="panel panel-info" style="width: 800px;float: left;margin-left: 40px;margin-top: 10px;">
				<div class="panel-heading">
					<ul class="breadcrumb panel-title">
						<li><a href="userCenter.html">用户中心</a></li>
						<li class="active">收货地址</li>
					</ul>
				</div>
			    <div class="panel-body">
			        <p>这是一个基本的面板</p>
					<br>
					<ul id="myTab" class="nav nav-tabs">
					    <li class="active">
					        <a href="#addressList" data-toggle="tab">
					            地址列表
					        </a>
					    </li>
					    <li>
							<a href="#ios" data-toggle="tab">
								新增地址
							</a>
						</li>
					</ul>
					<div id="myTabContent" class="tab-content">
					    <div class="tab-pane fade in active" id="addressList">
							<br>
							<table class="table table-hover table-bordered">
								<tbody id="table1"></tbody>
								<!--<tr class="success">
								  <th>#</th>
								  <th>收件人</th>
								  <th>联系方式</th>
								  <th>收件地址</th>
								  <th>操作</th>
								</tr>
								<tr>
									<td>1</td>
									<td>天使宝贝</td>
									<td>18511336397</td>
									<td>北京市海淀区清华大学甲一号25</td>
									<td>
										<button type="button" class="btn btn-danger btn-sm">删除</button>
									</td>
								</tr>
								<tr>
									<td>1</td>
									<td>天使宝贝</td>
									<td>18511336397</td>
									<td>北京市海淀区清华大学甲一号25</td>
									<td>
										<button type="button" class="btn btn-danger btn-sm">删除</button>
									</td>
								</tr>
								<tr>
									<td>1</td>
									<td>天使宝贝</td>
									<td>18511336397</td>
									<td>北京市海淀区清华大学甲一号25</td>
									<td>
										<button type="button" class="btn btn-danger btn-sm">删除</button>
									</td>
								</tr>
								<tr>
									<td>1</td>
									<td>天使宝贝</td>
									<td>18511336397</td>
									<td>北京市海淀区清华大学甲一号25</td>
									<td>
										<button type="button" class="btn btn-danger btn-sm">删除</button>
									</td>
								</tr>-->
								
							</table>
							
						</div>
					    <div class="tab-pane fade" id="ios">
							<br>
							<form class="form-horizontal" id="addForm">
							  <div class="form-group">
							    <label for="inputEmail3" class="col-sm-2 control-label">收件人</label>
							    <div class="col-sm-6">
							      <input type="text" name="receiverName" class="form-control" id="inputEmail3">
							    </div>
							  </div>

								<input type="hidden" id="hidden" name="id">

							  <div class="form-group">
							    <label for="address" class="col-sm-2 control-label">联系方式</label>
							    <div class="col-sm-6">
							      <input type="text" name="receiverPhone" class="form-control" id="address">
							    </div>
							  </div>
							  
							  <div class="form-group">
							
								<label class="col-sm-2 control-label">性别</label>
								  
								<div class="col-sm-6">
								  <label class="radio-inline">
								    <input type="radio" name="receiverGender" id="radio1" value="男"> 男
								  </label>
								  <label class="radio-inline">
								    <input type="radio" name="receiverGender" id="radio2" value="女"> 女
								  </label>
								</div>
							    
							  </div>
							  
							  <div class="form-group">
							    <label for="inputEmail3" class="col-sm-2 control-label">收件地址</label>
							    <div class="col-sm-6">
							      <textarea name="receiverAddress" class="form-control" rows="3"></textarea>
							    </div>
							  </div>
							</form>
							 
							  <div class="form-group">
							    <div class="col-sm-offset-2 col-sm-10">
							      <button type="submit" id="addAdd" class="btn btn-primary col-lg-4">新增</button>
							    </div>
							  </div>

							
						</div>
					    
					</div>
					
			    </div>
			</div>
		</div>


		<!-- 3.页脚部分，100%-->
		<div id="foot"></div>
		<script>
			$(function () {
				$.get("footer.html",{},function (data) {
					$("#foot").html(data);
				});
			});
		</script>
	</body>
<script>
	$(function () {
		var user = null;
		$.get("user/findOne",{},function (data) {
			user = data;
			$("#hidden").val(user.id);
			var uid = data.id;
			showAddress(uid);
			/*$.get("address/findAll",{id:uid},function (data) {
				var lis = 	'<tr class="success">\n' +
						  		'<th>#</th>\n' +
								'<th>收件人</th>\n' +
								'<th>联系方式</th>\n' +
								'<th>收件地址</th>\n' +
								'<th>操作</th>\n' +
							'</tr>';
				for (var i = 0; i < data.length; i++) {
					var address = data[i];
					var li = '<tr>\n' +
								'<td>'+address.id+'</td>\n' +
								'<td>'+address.receiverName+'</td>\n' +
								'<td>'+address.receiverPhone+'</td>\n' +
								'<td>'+address.receiverAddress+'</td>\n' +
								'<td>\n' +
									'<button type="button" onclick="deleteAddress('+address.id+')" class="btn btn-danger btn-sm">删除</button>\n' +
								'</td>\n' +
							'</tr>';
					lis += li;
				}
				$("#table1").html(lis);
			});*/
		});
		$("#addAdd").click(function () {
			$.get("address/addOne",$("#addForm").serialize(),function (data) {
				alert("添加地址成功");
				location.reload();
			});
		});
	});
	function showAddress(uid) {
		$.get("address/findAll",{id:uid},function (data) {
			var lis = 	'<tr class="success">\n' +
					'<th>#</th>\n' +
					'<th>收件人</th>\n' +
					'<th>联系方式</th>\n' +
					'<th>收件地址</th>\n' +
					'<th>操作</th>\n' +
					'</tr>';
			for (var i = 0; i < data.length; i++) {
				var address = data[i];
				var li = '<tr>\n' +
						'<td>'+address.id+'</td>\n' +
						'<td>'+address.receiverName+'</td>\n' +
						'<td>'+address.receiverPhone+'</td>\n' +
						'<td>'+address.receiverAddress+'</td>\n' +
						'<td>\n' +
						'<button type="button" onclick="deleteAddress('+uid+','+address.id+')" class="btn btn-danger btn-sm">删除</button>\n' +
						'</td>\n' +
						'</tr>';
				lis += li;
			}
			$("#table1").html(lis);
		});
	}
	function deleteAddress(uid,id) {
		var b = confirm("确定要删除吗");
		if (b){
			$.get("address/deleteOne",{id:id});
			showAddress(uid);
		}
	}
</script>
</html>
